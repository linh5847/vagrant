#
# DHCP Server Configuration file.
#   see /usr/share/doc/dhcp-server/dhcpd.conf.example
#   see dhcpd.conf(5) man page
#
allow bootp;
allow booting;
option domain-name            "vntechsol.com";
option domain-name-servers    192.168.1.1;
default-lease-time 600;
max-lease-time 7200;
authoritative;
# add follows
option space pxelinux;
option pxelinux.magic code 208 = string;
option pxelinux.configfile code 209 = text;
option pxelinux.pathprefix code 210 = text;
option pxelinux.reboottime code 211 = unsigned integer 32;
option architecture-type code 93 = unsigned integer 16;

subnet 192.168.56.0 netmask 255.255.255.0 {
    range dynamic-bootp 192.168.56.100 192.168.56.250;
    option broadcast-address 192.168.56.255;
    option routers 192.168.1.1;
    
    # add follows
    class "pxeclients" {
        match if substring (option vendor-class-identifier, 0, 9) = "PXEClient";
        # PXE servers hostname or IP address
        next-server 192.168.56.55;

        if option architecture-type = 00:07 {
            filename "BOOTX64.EFI";
        }
        else {
            filename "pxelinux.0";
        }
    }
}

# Centos and RedHat Linux client hosts 
group {
  filename "pxelinux.0";
  host centos9.vntechsol.com { 
    hardware ethernet 08:00:27:0E:DB:64;
    fixed-address 192.168.56.80; 
    filename "pxelinux.0";
  }
  host client1.vntechsol.com {
    hardware ethernet 08:00:27:2E:EA:6F;
    fixed-address 192.168.56.81; 
    filename "pxelinux.0";
  }
}